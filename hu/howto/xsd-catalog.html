<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>XSD Catalog és generálás</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body id="howto_xsd_catalog" class="article">
<div id="header">
<h1>XSD Catalog és generálás</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Személyre szabható XSD generálás és validalás.</p>
</div>
<div class="paragraph">
<p>Maga az XSD catalog egy elég bonyorult témakör az XSD szabványon belül.
Mélyebben nem fontos vele ismerkedni, az alábbiakban csak azzal fogunk foglalkozni ami nekünk kell,
és érdemes használni, hogy modulosítani lehessen a keretrendszerben és a projekteken egyaránt.
Az egész "XSD catalog" egy OASIS szabvány, ami a
<a href="https://www.oasis-open.org/committees/download.php/14809/xml-catalogs.html">xml-catalogs</a>
oldalon található.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_általános">Általános</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mi általában az XSD-t arra használjuk hogy megszabaduljunk a DTO objektumok alap valadálásától, mint pl.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>input string hossza - milyen hosszú lehet a mező értéke (karakter hossz)</p>
</li>
<li>
<p>kötelezőség - kötelező kitölteni vagy sem</p>
</li>
<li>
<p>minimum, maximum értékek - például minimum 0, 1970-01-01, -3.14, &#8230;&#8203;</p>
</li>
<li>
<p>típus kötelezőség - dátum, int, boolean, stb&#8230;&#8203;</p>
</li>
<li>
<p>definiált értékek - ENUM</p>
</li>
<li>
<p>string, dátum pattern - "\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{1,3})?Z", "[a-zA-Z0-9\-@\.]{6,30}", &#8230;&#8203;</p>
</li>
<li>
<p>egyéb XSD lehetőségek&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ez mellett nagyban segíti az objektum orientált DTO generálást, újrahasznosítást
- egy jó megírt XSD struktúra nagyon könnyen felhasználható a kódolásnál.</p>
</div>
<div class="paragraph">
<p>Nem mellékes az sem hogy mi ugyan JAVA nyelvet használunk de az általunk megírt REST interface objektumok
definíciója így XSD-ben van és az tovább adható egy csatlakozó külső ügyfélnek.
Az XSD-ből akármilyen nyelven képesek generálni saját DTO-kat nem kell kézzel újra megírni.</p>
</div>
<div class="paragraph">
<p>Az XSD-t igyekszünk a lehető legjobban komplex, dokumentáltan tartani mivel a DTO generálásnál használunk egy openapi-jaxb
plugint mely kiegészíti a DTO-kat openapi annotációkkal, melyben ki van fejtve minden adat, korlátozás és
leírás. Ennek köszönhető hogy a Swagger egy komplett REST interfész dokumentációként is tud szolgálni a fejlesztő,
tesztelő, frontend, szervező és ügyfél számára, nem kell plussz munkát fektetni a termék utólagos dokumentáciojára.</p>
</div>
<div class="paragraph">
<p>Hogy ne tűnjön úgy hogy a XSD tökéletes, megemlítem azért az egyik legnagyobb hátrányát is
- ha nem XML az input (pl. JSON) akkor csak plussz XML-re transformációval tudjuk megoldani a validációt.
A fenti felsorolt kihasznált előnyei viszont akkora időspórolást tudnak hozni hogy ezt az árat
hajlandóak vagyunk megfizetni - egyenlőre minden probléma megoldható volt&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_minta">Minta</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tegyük fel hogy van több XSD-ből álló struktúránk. Jelen esetben akarunk egy felhasználó DTO-t melynek
2 eleme van, <code>userName</code> és <code>password</code>, ezek a következő korlátoknak kell megfelelniük:</p>
</div>
<div class="listingblock">
<div class="title">/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://common.dto.coffee.icellmobilsoft.hu/common"
    targetNamespace="http://common.dto.coffee.icellmobilsoft.hu/common" elementFormDefault="qualified"
    attributeFormDefault="unqualified"&gt;

...

    &lt;!-- SIMPLE TYPES --&gt;
    &lt;xsd:simpleType name="SimpleText255Type"&gt;
        &lt;xsd:restriction base="xsd:string"&gt;
            &lt;xsd:maxLength value="255" /&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;
    &lt;xsd:simpleType name="EmailType"&gt;
        &lt;xsd:restriction base="xsd:string"&gt;
            &lt;xsd:maxLength value="200" /&gt;
            &lt;xsd:pattern value="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}" /&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;

...

&lt;xsd:schema</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_hagyományos_megoldás">Hagyományos megoldás</h3>
<div class="listingblock">
<div class="title">/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/commonservice.xsd</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:common="http://common.dto.coffee.icellmobilsoft.hu/common" //<b class="conum">(1)</b>
    xmlns="http://common.dto.coffee.icellmobilsoft.hu/commonservice"
    targetNamespace="http://common.dto.coffee.icellmobilsoft.hu/commonservice"
    elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;

    &lt;xsd:import namespace="http://common.dto.coffee.icellmobilsoft.hu/common" schemaLocation="common.xsd"/&gt; //<b class="conum">(2)</b>

...

    &lt;xsd:complexType name="UserType"&gt;
        &lt;xsd:sequence&gt;
            &lt;xsd:element name="userName" type="common:EmailType"&gt; //<b class="conum">(3)</b>
                &lt;xsd:annotation&gt;
                    &lt;xsd:documentation&gt;Felhasználó bejelentkezési azonosító.
                    &lt;/xsd:documentation&gt;
                &lt;/xsd:annotation&gt;
            &lt;/xsd:element&gt;
            &lt;xsd:element name="password"
                type="common:SimpleText255Type"&gt;  //<b class="conum">(3)</b>
                &lt;xsd:annotation&gt;
                    &lt;xsd:documentation&gt;Felhasználó bejelentkezési jelszó hash.
                    &lt;/xsd:documentation&gt;
                &lt;/xsd:annotation&gt;
            &lt;/xsd:element&gt;
        &lt;/xsd:sequence&gt;
    &lt;/xsd:complexType&gt;

...

&lt;xsd:schema</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>xml namespace definiálás, ami a "common" nevet kapta és a "http://common.dto.coffee.icellmobilsoft.hu/common" import fogja megdani a forrását</p>
</li>
<li>
<p>A hivatkozott namespace bekötése (import), file path segítségével.</p>
</li>
<li>
<p>Hivatkozás egy másik XSD-ben lévő típusra.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Előnyei:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Könnyen kezelhető és olvasható függőségek.</p>
</li>
<li>
<p>Minden XSD/XML kezelő program natívan tudja használni, működik rajta a code assist, natív XSD validálás.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hátrányai:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Kódban az XSD szerinti validálás külső függőség esetében egyéni resolver megírását igényli.</p>
</li>
<li>
<p>A <code>schemaLocation</code> útvonalban definiált xsd file helyileg elérhető kell hogy legyen.</p>
</li>
<li>
<p>Projekten belül egy másik modulból származó import nagyon bonyorult lehet (pl. "../../../../../../../../../target/unpacked-files/coffee-resources/xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd").</p>
</li>
<li>
<p><strong>Nem testreszabható</strong> (bővebb kifejtése lejebb).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="howto_xsd_catalog_CatalogMegoldas">Catalog megoldás</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ebben az esetben 2 fájl szükséges:</p>
</div>
<div class="listingblock">
<div class="title">/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/commonservice.xsd</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:common="http://common.dto.coffee.icellmobilsoft.hu/common" //<b class="conum">(1)</b>
    xmlns="http://common.dto.coffee.icellmobilsoft.hu/commonservice"
    targetNamespace="http://common.dto.coffee.icellmobilsoft.hu/commonservice"
    elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;

    &lt;xsd:import namespace="http://common.dto.coffee.icellmobilsoft.hu/common"/&gt; //<b class="conum">(2)</b>

...

    &lt;xsd:complexType name="UserType"&gt;
        &lt;xsd:sequence&gt;
            &lt;xsd:element name="userName" type="common:EmailType"&gt; //<b class="conum">(3)</b>
                &lt;xsd:annotation&gt;
                    &lt;xsd:documentation&gt;Felhasználó bejelentkezési azonosító.
                    &lt;/xsd:documentation&gt;
                &lt;/xsd:annotation&gt;
            &lt;/xsd:element&gt;
            &lt;xsd:element name="password"
                type="common:SimpleText255Type"&gt;  //<b class="conum">(3)</b>
                &lt;xsd:annotation&gt;
                    &lt;xsd:documentation&gt;Felhasználó bejelentkezési jelszó hash.
                    &lt;/xsd:documentation&gt;
                &lt;/xsd:annotation&gt;
            &lt;/xsd:element&gt;
        &lt;/xsd:sequence&gt;
    &lt;/xsd:complexType&gt;

...

&lt;xsd:schema</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>xml namespace definiálás, ami a "common" nevet kapta és a "http://common.dto.coffee.icellmobilsoft.hu/common" import fogja megdani a forrását</p>
</li>
<li>
<p>A hivatkozott namespace bekötése (import) - csak namespace hivatkozás! (nincs file path).</p>
</li>
<li>
<p>Hivatkozás egy másik XSD-ben lévő típusra.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">/coffee-dto-impl/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/super.catalog.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;catalog xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog"&gt;
    &lt;public publicId="http://common.dto.coffee.icellmobilsoft.hu/common" //<b class="conum">(1)</b>
        uri="maven:hu.icellmobilsoft.coffee.dto.xsd:coffee-dto-xsd:jar::!/xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd" /&gt;
&lt;/catalog&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>xml namespace definiálás, "http://common.dto.coffee.icellmobilsoft.hu/common" import namespace hol keresse a fájl forrást.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Előnyei:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Testreszabható</strong></p>
</li>
<li>
<p>Független XSD fájlok importálhatóak, melyek nem a projektben találhatóak.</p>
</li>
<li>
<p>Egy helyen található minden importált XSD file.</p>
</li>
<li>
<p>Kódban az XSD szerinti validálás egyszerűbben oldható meg mint az általános megoldásban és univerzális.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hátrányai:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XSD/XML kezelő programokhoz beállítás szüséges, vagy saját catalog fájl gyártása.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_használati_esetek">Használati esetek</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Képzeljünk el olyan esetet, hogy a Coffee generál néhány nagyon alap DTO objektumokat.
Ez azért fontos hogy a Coffee-ben lehessen közös "generikum" kódbázist alkotni,
például egy általános hibakezelés, loggolás, apache kliens válasz feldolgozásra, stb. (ahol a DTO-k érintettek).
Hogyha nincs általános osztály amire lehet a típusokat "castolni" nem lehetséges ilyen boilerkód
kiemelése a Coffee-ben, mivel csak maga az "Object"-re lehetne hivatkozni.
Az sem megoldás hogy a Coffee kikényszerítene valami fix típusokat,
mert akkor a projektek nem tudnák azt testreszabni, bővíteni (például XMLGregorianCalendar cseréje java.time.OffsetDateTime-ra).
A hagyományos XSD import ebben az helyzetben nem megfelelő,
mivel fix helyen keresi az import xsd path fájlt, ami ráadásul nem is a projektünk része hanem a Coffee része,
és Coffee-n belüli relatív útvonalra hivatkozik.</p>
</div>
<div class="paragraph">
<p>Erre nyújt megoldás a catalog fájl.
A catalog egy szeparált fájl, csinálhatunk ebből egy saját verziót.
Ebben csak azt az alap XSD-t használunk fel, melyek megfelelnek az igényeinknek.
Ami nekünk nem felel meg, le kell másolnunk az eredeti XSD-t mindennel együtt és kibővíteni benne a Coffee DTO típust.
Hogyha nem változik a namespace és a complexType neve,
akkor ugyan olyan DTO class fog generálódni belőle mint Coffee-ben.
Ezt a classpath-on keresztül a JAVA megtalálja és minden Coffee logika működhet tovább.
Ha a változás nagyon drasztikus akkor a CDI segítségével az Coffee logikát komplett le lehet cserélni.</p>
</div>
<div class="sect2">
<h3 id="_generálás">Generálás</h3>
<div class="paragraph">
<p>A generálás a mi esetünkben a maven segítségével történik. Példa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;hu.icellmobilsoft.coffee.dto.xsd&lt;/groupId&gt;
            &lt;artifactId&gt;coffee-dto-xsd&lt;/artifactId&gt; //<b class="conum">(1)</b>
        &lt;/dependency&gt;

        ...

        &lt;dependency&gt;
            &lt;groupId&gt;org.eclipse.microprofile.openapi&lt;/groupId&gt;
            &lt;artifactId&gt;microprofile-openapi-api&lt;/artifactId&gt; //<b class="conum">(2)</b>
            &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;
                &lt;artifactId&gt;jaxb40-maven-plugin&lt;/artifactId&gt; //<b class="conum">(3)</b>
                &lt;version&gt;0.16.0&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;coffee-super&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;generate&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;strict&gt;false&lt;/strict&gt;
                            &lt;!-- https://github.com/highsource/maven-jaxb2-plugin/wiki/Catalogs-in-Strict-Mode --&gt;
                            &lt;catalog&gt;src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/super.catalog.xml&lt;/catalog&gt;  //<b class="conum">(4)</b>
                            &lt;schemaIncludes&gt;
                                &lt;include&gt;xsd/hu/icellmobilsoft/coffee/dto/super.xsd&lt;/include&gt;  //<b class="conum">(5)</b>
                            &lt;/schemaIncludes&gt;
                            &lt;bindingIncludes&gt;
                                &lt;include&gt;xsd/hu/icellmobilsoft/coffee/dto/bindings.xjb&lt;/include&gt;  //<b class="conum">(6)</b>
                            &lt;/bindingIncludes&gt;
                            &lt;generateDirectory&gt;${project.build.directory}/generated-sources/src/main/java&lt;/generateDirectory&gt;  //<b class="conum">(7)</b>
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;verbose&gt;true&lt;/verbose&gt;
                    &lt;schemaDirectory&gt;src/main/resources&lt;/schemaDirectory&gt;
                    &lt;args&gt;
                        &lt;arguments&gt;-openapify&lt;/arguments&gt; //<b class="conum">(8)</b>
                        &lt;arguments&gt;-Xfluent-api&lt;/arguments&gt; //<b class="conum">(9)</b>
                        &lt;arguments&gt;-Xannotate&lt;/arguments&gt; //<b class="conum">(10)</b>
                    &lt;/args&gt;
                    &lt;plugins&gt;
                        &lt;plugin&gt;
                            &lt;groupId&gt;hu.icellmobilsoft.jaxb&lt;/groupId&gt;
                            &lt;artifactId&gt;openapi-jaxb-plugin&lt;/artifactId&gt; //<b class="conum">(8)</b>
                            &lt;version&gt;2.0.0&lt;/version&gt;
                        &lt;/plugin&gt;
                        &lt;plugin&gt;
                            &lt;groupId&gt;net.java.dev.jaxb2-commons&lt;/groupId&gt;
                            &lt;artifactId&gt;jaxb-fluent-api&lt;/artifactId&gt; //<b class="conum">(9)</b>
                            &lt;version&gt;2.1.8&lt;/version&gt;
                        &lt;/plugin&gt;
                        &lt;plugin&gt;
                            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;
                            &lt;artifactId&gt;jaxb2-basics-annotate&lt;/artifactId&gt; //<b class="conum">(10)</b>
                            &lt;version&gt;1.0.4&lt;/version&gt;
                        &lt;/plugin&gt;
                        &lt;plugin&gt;
                            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
                            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; //<b class="conum">(10)</b>
                            &lt;version&gt;2.9.9.1&lt;/version&gt;
                        &lt;/plugin&gt;
                    &lt;/plugins&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
...</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Ez a csomag tartalmazza az XSD fájlokat</p>
</li>
<li>
<p>A kigenerált DTO-k tartalmaznak OpenApi annotációkat, és hogy a generált osztályok forduljanak, szükséges a specifikáció bekötése</p>
</li>
<li>
<p>Maven plugin mely vezérli a generálást</p>
</li>
<li>
<p>XSD catalog fájl eléresi helye</p>
</li>
<li>
<p>Fő XSD melyet generálunk.
Ez valójában lehet több kicsi is, de akkor folyton módosítani kell a pom.xml-t ha változás történik.
Egyszerűbb egy centrális xsd-ben felsorolni őket.
Szintén olyankor a globális beállításokat egyenként kellene kezelni.</p>
</li>
<li>
<p>XJB fájl, itt lehet beállítani a testreszabott eltéréseket, például XMLGregorianCalendar &#8594; java.time cseréje&#8230;&#8203;</p>
</li>
<li>
<p>Hova generálódjanak az osztályok.
A plugin ezt automatán beteszi a forráskódok forrásai közé, Eclipse és IDEA automatán fogja kezelni.</p>
</li>
<li>
<p>Kapcsoló hogy generálja az OpenApi annotációkat, <code>hu.icellmobilsoft.jaxb:openapi-jaxb-plugin</code> plugin által.</p>
</li>
<li>
<p>Kapcsoló hogy generálja az fluent kódoláshoz szükséges metódusokat, <code>net.java.dev.jaxb2-commons:jaxb-fluent-api</code> plugin által.
Nagyon hasznos tud lenni, sok felesleges sort az üzleti logibában meg tud spórolni.</p>
</li>
<li>
<p>Kapcsoló hogy lehessen használni a javax.annotation.* annotáciokat
az XSD-ben és az szerint is tudjon generálni.
Bővebb leírás a <a href="https://github.com/highsource/jaxb2-annotate-plugin">jaxb2-annotate-plugin</a>
és <a href="https://stackoverflow.com/questions/26430199/http-annox-dev-java-net-customizations-require-the-xannotate-switch">stackoverflow.com</a>  oldalakon</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_openapi_swagger">OpenApi, Swagger</h3>
<div class="paragraph">
<p>Ahogy már említve volt a generált DTO-k a komplett dokumentáció részei.
Lehetőleg tartalmazniuk kell minden információt ami szükséges lehet a többi fejlesztőnek, tesztelőnek, szervezőnek, stb&#8230;&#8203;
Hogy ez megtörténjen az XSD alkotásánál a lehető legjobban tölteni kell az XSD elemeket,
mert a generátor ezekbők fogja rágenerálni az dokumentációs annotációkat.</p>
</div>
<div class="paragraph">
<p>Ezeket az annotációkat (OpenApi) egy Swagger nevezetű program segítségével felhasználói interfészen meg is jelenítjük.</p>
</div>
<div class="listingblock">
<div class="title">xml fájl forrása</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">..
    &lt;xsd:simpleType name="EntityIdType"&gt;
        &lt;xsd:restriction base="xsd:string"&gt;
            &lt;xsd:maxLength value="30" /&gt;
            &lt;xsd:pattern value="[+a-zA-Z0-9_]{1,30}" /&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;
    &lt;xsd:group name="BaseAuditUserGroup"&gt;
        &lt;xsd:sequence&gt;
            &lt;xsd:element name="creatorUser" type="EntityIdType"
                minOccurs="0" /&gt;
            &lt;xsd:element name="modifierUser" type="EntityIdType"
                minOccurs="0" /&gt;
        &lt;/xsd:sequence&gt;
    &lt;/xsd:group&gt;
    &lt;xsd:group name="BaseAuditGroup"&gt;
        &lt;xsd:sequence&gt;
            &lt;xsd:group ref="BaseAuditDateGroup" /&gt;
            &lt;xsd:group ref="BaseAuditUserGroup" /&gt;
        &lt;/xsd:sequence&gt;
    &lt;/xsd:group&gt;
    &lt;xsd:complexType name="AbstractAuditDtoType"&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="AbstractDtoType"&gt;
                &lt;xsd:sequence&gt;
                    &lt;xsd:group ref="BaseAuditGroup" /&gt;
                &lt;/xsd:sequence&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ebből keletkezik a generálásnál osztály - egy részlete a következő:</p>
</div>
<div class="listingblock">
<div class="title">generált AbstractAuditDtoType.java osztály része</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">...
    @Schema(name = "creatorUser", title = "creatorUser", description = "creatorUser", maxLength = 30, pattern = "[+a-zA-Z0-9_]{1,30}")
    protected String creatorUser;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>A dokumentációs felhasználói felületen ez így látszódik:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../pic/XSD_catalog_swaggerUI_sample.png" alt="XSD catalog swaggerUI sample">
</div>
<div class="title">Figure 1. swagger UI</div>
</div>
<div class="paragraph">
<p>A példában nem szerepel a xsd:documentation mert nem találtam rá megfelelő pici példát,
de működik annak a generálása is.</p>
</div>
</div>
<div class="sect2">
<h3 id="_xsd_editorok">XSD editorok</h3>
<div class="paragraph">
<p>Ha nem használunk catalog fájlt akkor rendszerint minden XSD editor tudja kezelni a importokat.
Catalog használatával már komplikálódik a helyzet.
Maga a catalog fájl egy kiegészítő konfigurációs fájl,
nem feltétlenül kell hogy a XSD fájlok melett legyen.</p>
</div>
<div class="paragraph">
<p>A XSD kezelő szoftverekben ezt külön be kell adni hogy fel tudja oldani a hivatkozott namespace prefixeket.
Mivel fejlesztői oldalról legtöbben Eclipse vagy IDEA-t használunk így ezeket részletezzük.</p>
</div>
<div class="sect3">
<h4 id="_idea">IDEA</h4>
<div class="paragraph">
<p>Ezzel nem történik különösebb probléma a beállításoknál,
mivel úgy látszik hogy az IDEA XSD kezelője a maven pom.xml-ből ki tudja olvasni a projekt beállításokat,
így a catalog fájl is.
Igaz, nem próbálta még ki senki külső catalog fájlal&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="_eclipse">Eclipse</h4>
<div class="paragraph">
<p>Catalog XSD esetén kézzel kell elkészítenünk saját catalog fájl, mivel az amit a generátor használ,
nem felel meg a Eclipse XSD/XML pluginnak.
Maga a plugin nem tud maven struktúrából olvasni úgy ahogy azt a generátor teszi.
Az Eclipse plugin a catalogban fix absolut path-ot kér, ami minden fejlesztőnek egyedi,
relatív útvonallal nem tud dolgozni (amit szerintem maga a bekötés folyamata zárja ki).</p>
</div>
<div class="paragraph">
<p>Segíség képpen egy minta mit kell kézzel létrehozni:</p>
</div>
<div class="listingblock">
<div class="title">/coffee-dto-xsd/example.eclipse.catalog.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;catalog xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog"&gt;
    &lt;public publicId="http://common.dto.coffee.icellmobilsoft.hu/common"
        uri="/home/ss/PROJECTS/ICELL/COFFEE/workspace/coffee/coffee-dto/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd" /&gt;
    &lt;public publicId="http://common.dto.coffee.icellmobilsoft.hu/commonservice"
        uri="/home/ss/PROJECTS/ICELL/COFFEE/workspace/coffee/coffee-dto/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/commonservice.xsd" /&gt;
    &lt;public publicId="http://common.dto.coffee.icellmobilsoft.hu/commonsecurity"
        uri="/home/ss/PROJECTS/ICELL/COFFEE/workspace/coffee/coffee-dto/coffee-dto-xsd/src/main/resources/xsd/hu/icellmobilsoft/coffee/dto/common/commonsecurity.xsd" /&gt;
&lt;/catalog&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mindenkinek saját útvonalra kell állítani!</p>
</div>
<div class="sect4">
<h5 id="howto_xsd_catalog_CatalogImport">Catalog import</h5>
<div class="paragraph">
<p>Az Eclipse menüpontok keresztül a következő a lépés:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>File</code> &#8594; <code>Import</code></p>
</li>
<li>
<p>Az ablakban belül lent: <code>XML</code> &#8594; <code>XML Catalog</code></p>
</li>
<li>
<p>Majd <code>Next</code> és be kell adni neki a fent említett kézzel lekezelt catalog fájlt.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ha jól töltöttük ki az útvonalakat az Eclipse innentől kezdve a namespace hivatkozásokat fel tudja oldani
és a code assist is működni fog.</p>
</div>
</div>
<div class="sect4">
<h5 id="_catalog_delete">Catalog delete</h5>
<div class="paragraph">
<p>Ha változások történnek az XSD struktúrában akkor újra a <a href="#howto_xsd_catalog_CatalogImport">Catalog import</a>-ot
meg kell csinálni, de előtte ki kell törölni a régit.</p>
</div>
<div class="paragraph">
<p>Ezt a következőképpen kell megtenni:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Window</code> &#8594; <code>Preferences</code></p>
</li>
<li>
<p>Az ablakban navigálunk: <code>XML</code> &#8594; <code>XML Catalog</code></p>
</li>
<li>
<p>Valami ilyesmi fogunk látni: <span class="image"><img src="../pic/XSD_catalog_catalog_delete.png" alt="XSD catalog catalog delete" title="Eclipse Catalog Törlés"></span></p>
</li>
<li>
<p>Kiválasztjük a <code>User Specified Entries</code> tételeket, majd <code>Remove</code></p>
</li>
<li>
<p>Ezután újra mehet a <a href="#howto_xsd_catalog_CatalogImport">Catalog import</a></p>
</li>
</ol>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Ne próbáljunk semmiféle módosítást végezni a <code>User Specified Entries</code> tételeken,
mert azok a mentést követően Eclipse hibásan fogja elmenteni és nem fog működni az Catalog feloldása.
Ez valami Eclipse Bug lehet.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xml_séma_validálás">XML Séma Validálás</h3>
<div class="paragraph">
<p>A <a href="#howto_xsd_catalog_CatalogMegoldas">Catalog megoldás</a> címben ott egy példa a super.catalog.xml fájlra.
Ebben láthatjuk, hogy a fájl elérése maven dependency-n keresztül van megadva:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>uri="maven:hu.icellmobilsoft.coffee.dto.xsd:coffee-dto-xsd:jar::!/xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd"</pre>
</div>
</div>
<div class="paragraph">
<p>Ez valójában a következőre utal:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">...
&lt;dependency&gt;
    &lt;groupId&gt;hu.icellmobilsoft.coffee.dto&lt;/groupId&gt;
    &lt;artifactId&gt;coffee-dto&lt;/artifactId&gt;
&lt;/dependency&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tehát a .m2/repository/hu/icellmobilsoft/coffee/dto/coffee-dto/_VERZIÓ_/coffee-dto.jar fájból kicsomagolva szedi
a /xsd/hu/icellmobilsoft/coffee/dto/common/common.xsd XSD fájlt.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Az alábbi megoldáshoz <strong>java 9+ szükséges!</strong>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Maga a <code>maven:</code> protocol ismeretlen a java.net.URL számára, így írnunk kell hozzá egy handlert:</p>
</div>
<div class="listingblock">
<div class="title">coffee-tool/src/main/java/hu/icellmobilsoft/coffee/tool/protocol/handler/MavenURLHandler.java tartalmi lényege</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Unresolved directive in xsd-catalog.adoc - include::../../../coffee-tool/src/main/java/hu/icellmobilsoft/coffee/tool/protocol/handler/MavenURLHandler.java[lines=29..44]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ezt a handlert még be kell regisztrálni a következő módon:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Létre kell honzni egy <code>java.net.spi.URLStreamHandlerProvider</code> nevű text fájlt (végződés nélkül)</p>
</li>
<li>
<p>A tartalmába bele kell írni a saját elkészített handlert.
Ha több volna belőlük akkor egyenként új sorba.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Mi esetünkben így fog kinézni:</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/META-INF/services/java.net.spi.URLStreamHandlerProvider</div>
<div class="content">
<pre class="highlight"><code class="language-txt" data-lang="txt">hu.icellmobilsoft.coffee.tool.protocol.handler.MavenURLStreamHandlerProvider</code></pre>
</div>
</div>
<div class="paragraph">
<p>Innentől kezdve a java 9+ XSD Catalog kezelése képes felolvasni a generátor által ismert útvonalat.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Hogy maga a JAXB tudjon validálni Catalog-on keresztül, szükséges volt pár osztályt létrehozni,
melyek még nem Coffee ready. Erről később fog születni dokumentáció, addig projekteken kell keresni.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-10-27 11:43:10 UTC
</div>
</div>
</body>
</html>